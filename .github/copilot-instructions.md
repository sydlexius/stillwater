# Copilot PR Review Instructions

## Focus areas (review these carefully)

- Security vulnerabilities: SQL injection, XSS, SSRF, command injection, path traversal
- Correctness bugs: logic errors, off-by-one, nil/zero-value mishandling, race conditions
- Data loss risks: missing error checks on file writes, unchecked database operations
- API contract violations: wrong HTTP status codes, missing validation at boundaries

## Lower priority (mention only if clearly wrong)

- Test naming conventions and comment accuracy in test files
- Style preferences that do not affect correctness (e.g., variable naming in tests)
- Suggestions to refactor working code for hypothetical testability improvements
- Re-raising the same observation from a prior review cycle if it was already acknowledged

## Project context

- This is a Go project using `net/http` stdlib routing, HTMX, and Templ templates.
- Files ending in `_templ.go` are generated by `templ generate` -- do not flag patterns in generated code that originate from the `.templ` source files.
- SSRF protection uses a custom `http.Transport` with `DialContext` that validates resolved IPs. CodeQL cannot trace through this pattern; `go/request-forgery` alerts on `client.Get()` calls using this transport are false positives.
- The `hxValsJSON` helper uses `json.Marshal` for all `hx-vals` attributes. This is the project's standard pattern for safe JSON construction in templates.
